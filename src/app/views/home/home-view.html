<div class="header">
  <a title="Home" routerLink="/home" ><i class="fa fa-home"></i></a>
  <h1>Photobox</h1>
  <div class="buttons" *ngIf="entity">
    <a (click)="menu.visible = !menu.visible" title="Toggle menu" ><i class="fa fa-bars"></i></a>
    <a><i class="fa fa-search"></i></a>
    <a [routerLink]="'/category/new/' + categoryId" title="New category"><i class="fa fa-plus"></i></a>
    <a (click)="modal.confirm('Do you want exit the system?', exit)" title="Sign out"><i class="fa fa-sign-out"></i></a>
  </div>
</div>

<div class="container" *ngIf="entity">
  <app-menu #menu [entries]="entity.categories"
    (deleteEntry)="modal.confirm('Are you sure?', deleteCategory, $event)"
    (selectEntry)="onSelectEntry($event)" [visible]="false"></app-menu>
  <div class="pictures">
    <!-- if 'main category': -->
    <h3 *ngIf="entity.main">
      Uncategorized pictures
    </h3>
    <!-- else: -->
    <h3 *ngIf="!entity.main">
      <a (click)="modal.confirm('Are you sure?', deleteCategory)"><i class="fa fa-trash-o"></i></a>
      <span>{{entity.title}}</span>
      <a [routerLink]="'/category/edit/' + entity.id"><i class="fa fa-pencil"></i></a>
    </h3>
    <!-- endif -->

    <app-picture *ngFor="let picture of entity.pictures"
      [id]="picture.id"
      [path]="picture.path"
      (deletePicture)="modal.confirm('Are you sure?', deletePicture, picture.id)"></app-picture>
  </div>
</div>

<template #modalContainer></template>
